<!DOCTYPE HTML>
<html>
<head>
<meta charset="utf-8">
<title>图片自动缩放和延迟加载</title>
<style>
*{margin:0; padding:0; border:0;}
ul,ol{ list-style-type:none}
.auto_IMG{ width:300px; margin:20px auto}
.auto_IMG li a{ overflow:hidden; display:block; text-align:center; width:300px; height:150px; background:#ccc;}
.auto_IMG li a{ display:none} 
.auto_IMG li.selected a{ display:block} 

</style>
<script src="http://pic.lvmama.com/js/jquery142.js"></script>
	<script type="text/javascript">
jQuery(document).ready(function(){
	var JS_mo_menu = $('.JS_imgmo_menu p');
	JS_mo_menu.mouseover(function(){
		var this_img = $(this).parents("li").find('img');
		if(this_img.attr("src")==""){this_img.attr("src",this_img.attr("original"))};
		$(this).parents("li").addClass('selected').siblings().removeClass('selected');
		autoIMG(this_img,300,150);
	});
  $(".JS_imgmo_menu").each(function(){
		$(this).children('li').eq(0).find("p").mouseover();
	});
	function autoIMG(this_img,x,y){
		//var x = 300; //填入目标图片宽度
		//var y = 150; //填入目标图片高度
		var z = 0;   //填入目标上边距
		var w=$(this_img).width(), h=$(this_img).height();//获取图片宽度、高度
		if (w > x) { //图片宽度大于目标宽度时
			var w_original=w, h_original=h;
			h = h * (x / w); 
			w = x; //宽度等于预定宽度
			if (h < y) { //如果按比例缩小后的高度小于预定高度时
				w = w_original * (y / h_original); 
				h = y; //高度等于预定高度
			}
		}
		if(h < y){
			var z = (y - h)/2;
		};
		$(this_img).attr({width:w,height:h}).css({'margin-top':z});
	};
});
	</script>
</head>

<body>
<div id="content">
火狐下运行安好
<ul class="auto_IMG JS_imgmo_menu">
<li class="selected"><p>hello</p><a href=""><img src="" original="http://hiphotos.baidu.com/563215/pic/item/29b9a439b1a2837196ddd867.jpg"></a></li>
<li><p>hello</p><a href=""><img src="" original="http://hiphotos.baidu.com/563215/pic/item/29b9a439b1a2837196ddd867.jpg"></a></li>
<li><p>hello</p><a href=""><img src="" original="http://pic.lvmama.com/img/new_v/ob_comment/slide_pic1.jpg"></a></li>
<li><p>hello</p><a href=""><img src="" original="http://pic.lvmama.com/img/new_v/ob_comment/chot_pic1.jpg"></a></li>
<li><p>hello</p><a href=""><img src="" original="http://pic.lvmama.com/img/new_v/ob_comment/tj_pic1.jpg"></a></li>
<li><p>hello</p><a href=""><img src="" original="http://hiphotos.baidu.com/563215/pic/item/29b9a439b1a2837196ddd867.jpg"></a></li>
</ul></div>
</body>
</html>
